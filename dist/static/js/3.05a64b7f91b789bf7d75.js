webpackJsonp([3],{"6VwH":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("nv3W"),h=i("10Ds"),a=i("yFfA"),o={components:{Tips:s.a,TipsPrice:s.a,TipsExceed:s.a,Model:h.a},data:()=>({uid:"",deviceNo:"",modeTab:"GAME",methodTab:!0,typeMethodSelect:["2串1","3串1","4串1","5串1","6串1","7串1","8串1"],typeIdex:"0",chuanIdex:"0",chuanIdexArr:[],chuanIdexName:0,detailShow:!1,leftBlock:[],isRedBg:!1,bettingTitle:!0,times:1,gameNum:0,gameNumShow:!1,bettingNum:0,total:0,curIndexs:[],rightArr:[],testData:[],chuanIdexAAA:"98898",complexArr:[],typeMethodNum:0,typeMethodShow:!1,typeMethodShowFont:!1,x2:2,x3:3,x4:4,x5:5,x6:6,x7:7,x8:8,isSub_btn:!0,isSub_btn_red:!1,submitBtn1:!0,submitBtn2:!1,tipsShow:!1,tipsShowPrice:!1,tipsShowExceed:!1,tipsShowPriceJd:!1,model:!1}),created(){let t=this;this.model=!0,this.getRequest(),this.firstGetType(),this.query(),a.a.$on("getModeType",function(e){t.modeTab=e})},methods:{firstGetType(){let t=this,e={deviceNo:this.deviceNo};t.$http.post("http://dev.hcb66.com:7300/device/mode/query",e).then(function(e){1e4==e.data.status&&(t.modeTab=e.data.data)},function(t){console.log(t)})},getRequest(){this.uid=this.$route.query.uid,this.deviceNo=this.$route.query.deviceNo},query(){let t=this;t.$http.post("/jz/queryAgainstList",{lotteryId:"spf"}).then(e=>{1e4==e.data.code&&(setTimeout(function(){t.model=!1},200),this.leftBlock=e.data.leftBlock)})},ChooseRed(t,e,i,s){let h=this,a=t+""+s,o=this.curIndexs.indexOf(a),n={title:"",liveSp:["","",""],date:"",idex:t,matchId:"",gameType:"",saleCloseTime:""};if(o>=0){this.curIndexs.splice(o,1);for(var l=0;l<this.rightArr.length;l++){let t=this.rightArr[l];t.idex==n.idex&&(t.liveSp[s]="",""==t.liveSp[0]&&""==t.liveSp[1]&&""==t.liveSp[2]&&this.rightArr.splice(l,1))}}else if(this.rightArr.length>7)for(l=0;l<this.rightArr.length;l++){let t=null;if(this.rightArr[l].idex==n.idex)return(t=this.rightArr[l]).liveSp[s]=i,this.curIndexs.push(a),void(this.tipsShowExceed=!1);this.tipsShowExceed=!0,setTimeout(function(){h.tipsShowExceed=!1},2e3)}else{if(n.title=e.title,n.date=e.date,n.matchId=e.matchId,n.gameType=e.gameType,n.saleCloseTime=e.time,this.curIndexs.push(a),this.rightArr.length>0)for(l=0;l<this.rightArr.length;l++){let t=null;if(this.rightArr[l].idex==n.idex)return void((t=this.rightArr[l]).liveSp[s]=i)}n.liveSp[s]=i,this.rightArr.push(n)}},test(){this.testData=[],this.testData=JSON.parse(JSON.stringify(this.rightArr));let t=this.testData;for(var e=0;e<t.length;e++){let h=t[e];for(var i=0,s=h.liveSp.length;i<s;i++)""==h.liveSp[i]&&(h.liveSp.splice(i,1),s--,""==h.liveSp[i]&&(h.liveSp.splice(i,1),s--))}let h=[];for(e=0;e<t.length;e++)h.push(t[e].liveSp.length);this.bettingNum=Math.round(this.jC(h))},chuanGuan(){this.complexArr=[],this.complexArr=JSON.parse(JSON.stringify(this.rightArr));for(var t=0;t<this.complexArr.length;t++){let s=this.complexArr[t];for(var e=0,i=s.liveSp.length;e<i;e++)""==s.liveSp[e]&&(s.liveSp.splice(e,1),i--,""==s.liveSp[e]&&(s.liveSp.splice(e,1),i--))}this.chuanZhJc()},chuanZhJc(){let t=this.chooseZH(this.complexArr,this.chuanIdexName),e=[];for(var i=0;i<t.length;i++){let h=[],a=t[i];for(var s=0;s<a.length;s++)h.push(a[s].liveSp.length);e.push(Math.round(this.jC(h)))}this.bettingNum=this.jJia(e)},chuanSelect(t,e){this.chuanIdexAAA=e,this.chuanIdexName=0,this.chuanIdexArr.push(e),"2串1"==t&&(this.chuanIdexName=2),"3串1"==t&&(this.chuanIdexName=3),"4串1"==t&&(this.chuanIdexName=4),"5串1"==t&&(this.chuanIdexName=5),"6串1"==t&&(this.chuanIdexName=6),"7串1"==t&&(this.chuanIdexName=7),"8串1"==t&&(this.chuanIdexName=8),this.chuanGuan()},reduce(){this.times--,this.times<1&&(this.times=1)},add(){this.times++,this.times>99&&(this.times=99)},maxAdd(){this.times=99},deleteAll(){this.rightArr=[],this.curIndexs=[],this.chuanIdexAAA=[],this.typeMethodShow=!1,this.gameNumShow=!1,this.bettingNum=0},jJia(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e},jC(t){for(var e=1,i=0;i<t.length;i++)e*=t[i];return e},chooseZH(t,e){var i=[];return function t(e,s,h){var a=e.length;if(!(s>a))if(s==a)i.push([].concat(h,e));else for(var o=0;o<a;o++){var n=[].concat(h);if(n.push(e[o]),1==s)i.push(n);else{var l=[].concat(e);l.splice(0,o+1),t(l,s-1,n)}}}(t,e,[]),i},submit(){let t=this;if(this.bettingNum<1)this.submitBtn1=!0,this.submitBtn2=!1,this.tipsShow=!0,setTimeout(function(){t.tipsShow=!1},2e3);else{this.submitBtn1=!1,this.submitBtn2=!0,""!=this.times&&0!=this.times||(this.times=1);let e=this.bettingNum*this.times*2*100,i={userId:this.uid,deviceNo:this.deviceNo,lotteryName:"jz",moneySum:2*this.bettingNum*this.times,type:this.modeTab,tableData:{playName:"spf",playType:this.typeMethodNum,dzList:this.rightArr,multiple:this.times,investCount:this.bettingNum}};console.log(i),e>2e6?("TD"==this.modeTab?(this.tipsShowPrice=!0,setTimeout(function(){t.tipsShowPrice=!1},2e3)):(this.tipsShowPriceJd=!0,setTimeout(function(){t.tipsShowPriceJd=!1},2e3)),this.submitBtn1=!0,this.submitBtn2=!1):(this.model=!0,t.$http.post("/jz/betting",i).then(e=>{console.log(e.data);let i=e.data.data;1e4==e.data.code&&(t.model=!1,t.toastMessage(i),t.callBackPay(),t.submitBtn1=!0,t.submitBtn2=!1)},t=>{console.log(t)}))}},callBackPay(){this.rightArr=[],this.curIndexs=[],this.bettingNum=0,this.times=1,this.typeMethodShow=!1,this.chuanIdexAAA="98898"}},updated(){0==this.chuanIdexArr.length?0==this.rightArr.length?(this.gameNumShow=!1,this.detailShow=!1,this.typeMethodShow=!1,this.typeMethodShowFont=!1,this.bettingNum=0,this.chuanIdex="0",this.chuanIdexArr=[]):(this.gameNumShow=!0,this.detailShow=!0,1==this.rightArr.length?(this.gameNum=1,"dg"==this.rightArr[0].gameType?(this.test(),this.typeMethodShow=!1,this.typeMethodShowFont=!0,this.typeMethodNum=1):(this.typeMethodShow=!1,this.typeMethodShowFont=!1,this.bettingNum=0)):(2==this.rightArr.length&&(this.typeMethodNum=this.x2,this.typeMethodShow=!0,this.typeMethodShowFont=!1,this.gameNum=2,this.test()),3==this.rightArr.length&&(this.typeMethodNum=this.x3,this.typeMethodShow=!0,this.typeMethodShowFont=!1,this.gameNum=3,this.test()),4==this.rightArr.length&&(this.typeMethodNum=this.x4,this.typeMethodShow=!0,this.typeMethodShowFont=!1,this.gameNum=4,this.test()),5==this.rightArr.length&&(this.typeMethodNum=this.x5,this.typeMethodShow=!0,this.typeMethodShowFont=!1,this.gameNum=5,this.test()),6==this.rightArr.length&&(this.typeMethodNum=this.x6,this.typeMethodShow=!0,this.typeMethodShowFont=!1,this.gameNum=6,this.test()),7==this.rightArr.length&&(this.typeMethodNum=this.x7,this.typeMethodShow=!0,this.typeMethodShowFont=!1,this.gameNum=7,this.test()),8==this.rightArr.length&&(this.typeMethodNum=this.x8,this.typeMethodShow=!0,this.typeMethodShowFont=!1,this.gameNum=8,this.test()))):(0==this.rightArr.length?(this.gameNumShow=!1,this.detailShow=!1,this.typeMethodShow=!1,this.typeMethodShowFont=!1,this.bettingNum=0,this.chuanIdex="0",this.chuanIdexArr=[]):(this.gameNumShow=!0,this.detailShow=!0),0!==this.rightArr.length&&(this.chuanGuan(),this.gameNum=this.rightArr.length,2==this.chuanIdexName&&(this.typeMethodNum=this.x2,this.typeMethodShow=!0),3==this.chuanIdexName&&(this.typeMethodNum=this.x3,this.typeMethodShow=!0),4==this.chuanIdexName&&(this.typeMethodNum=this.x4,this.typeMethodShow=!0),5==this.chuanIdexName&&(this.typeMethodNum=this.x5,this.typeMethodShow=!0),6==this.chuanIdexName&&(this.typeMethodNum=this.x6,this.typeMethodShow=!0),7==this.chuanIdexName&&(this.typeMethodNum=this.x7,this.typeMethodShow=!0),8==this.chuanIdexName&&(this.typeMethodNum=this.x8,this.typeMethodShow=!0))),this.times>99&&(this.times=99),this.bettingNum>0?(this.isSub_btn=!1,this.isSub_btn_red=!0):(this.isSub_btn=!0,this.isSub_btn_red=!1)}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"winning"},[t.methodTab?i("section",[i("div",{staticClass:"match"},[i("p",{staticClass:"match_number"},[t._v("共 "+t._s(t.leftBlock.length)+" 场比赛可选择")]),t._v(" "),i("ul",{staticClass:"match_ul"},t._l(t.leftBlock,function(e,s){return i("li",{staticClass:"match_li"},[i("p",{staticClass:"match_titel"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"match_detail"},[i("div",{staticClass:"one_info match_select"},["dg"==e.gameType?i("p",{staticClass:"oneLogo"},[t._v("单")]):t._e(),t._v(" "),i("p",{staticClass:"match_date"},[t._v(t._s(e.date))]),t._v(" "),i("p",{staticClass:"country"},[t._v(t._s(e.country))]),t._v(" "),i("p",{staticClass:"match_time"},[t._v(t._s(e.time))])]),t._v(" "),t._l(e.liveSp,function(h,a){return i("div",{staticClass:"match_select match_block",class:{actives:t.curIndexs.indexOf(s+""+a)>=0,lottery_type:"TD"==t.modeTab,game_type:"GAME"==t.modeTab},on:{touchstart:function(i){t.ChooseRed(s,e,h,a)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:0==a,expression:"innerIndex==0"}]},[t._v("胜 ")]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==a,expression:"innerIndex==1"}]},[t._v("平 ")]),i("span",{directives:[{name:"show",rawName:"v-show",value:2==a,expression:"innerIndex==2"}]},[t._v("负 ")]),t._v(t._s(h))])})],2)])}))]),t._v(" "),i("div",{staticClass:"betting_detail"},[t.detailShow?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.bettingTitle,expression:"bettingTitle"}]},[i("p",{staticClass:"betting_title"},[t._v("选择明细")]),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),i("ul",t._l(t.rightArr,function(e){return""!=e.title?i("li",[i("div",{staticClass:"index"},[t._v(t._s(e.date))]),t._v(" "),i("ul",{staticClass:"have_chosen",class:"TD"==t.modeTab?"lottery_type":"game_type"},[i("li",{staticClass:"betting_block"},[i("p",{staticClass:"block_title"},[t._v(t._s(e.title))]),t._v(" "),i("ul",[i("li",{directives:[{name:"show",rawName:"v-show",value:e.liveSp[0],expression:"temp.liveSp[0]"}],staticClass:"detail_home"},[t._v("胜 "+t._s(e.liveSp[0]))]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.liveSp[1],expression:"temp.liveSp[1]"}],staticClass:"detail_level"},[t._v("平 "+t._s(e.liveSp[1]))]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.liveSp[2],expression:"temp.liveSp[2]"}],staticClass:"detail_away"},[t._v("负 "+t._s(e.liveSp[2]))])])])])]):t._e()}))]):i("div",[i("p",{staticStyle:{"text-align":"center","margin-top":"400px"}},[t._v("暂无选择场次")])])]),t._v(" "),i("div",{staticClass:"bottom_detail"},[i("ul",{staticClass:"type_method_ul"},t._l(t.typeMethodSelect,function(e,s){return s<=t.rightArr.length-2?i("li",{staticClass:"type_method",class:{lottery_type_btn:"TD"==t.modeTab,game_type_btn:"GAME"==t.modeTab},style:{background:s==t.chuanIdexAAA?"#ff51aa":"transparent"},on:{click:function(i){t.chuanSelect(e,s)}}},[t._v(t._s(e))]):t._e()})),t._v(" "),i("div",{staticClass:"select_result"},[i("p",{staticClass:"bottom_text",staticStyle:{display:"inline-block"}},[t.gameNumShow?i("span",[t._v("共选择"+t._s(t.gameNum)+"场比赛")]):t._e(),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.typeMethodShow,expression:"typeMethodShow"}]},[t._v(t._s(t.typeMethodNum)+"串1")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.typeMethodShowFont,expression:"typeMethodShowFont"}]},[t._v("单关")]),t._v(" 共"+t._s(t.bettingNum)+"注 "+t._s(2*t.bettingNum*100*t.times)),"TD"==t.modeTab?i("span",[t._v("积分")]):t._e(),"GAME"==t.modeTab?i("span",[t._v("金豆")]):t._e()]),t._v(" "),i("div",{staticStyle:{display:"inline-block"}},[i("span",{staticClass:"reduce",class:"TD"==t.modeTab?"lottery_type_btn":"game_type_btn",on:{click:function(e){t.reduce()}}},[t._v("－")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.times,expression:"times"}],staticClass:"times",class:"TD"==t.modeTab?"lottery_type":"game_type",attrs:{type:"number"},domProps:{value:t.times},on:{input:function(e){e.target.composing||(t.times=e.target.value)}}}),t._v(" "),i("span",{staticClass:"add",class:"TD"==t.modeTab?"lottery_type_btn":"game_type_btn",on:{click:function(e){t.add()}}},[t._v("＋")]),t._v(" "),i("span",{staticClass:"max_add",class:"TD"==t.modeTab?"lottery_type_btn":"game_type_btn",on:{click:function(e){t.maxAdd()}}},[t._v("99倍")])])]),t._v(" "),i("div",[i("span",{staticClass:"delete_order",class:"TD"==t.modeTab?"lottery_type_btn":"game_type_btn",on:{click:function(e){t.deleteAll()}}},[t._v("清空订单")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.submitBtn1,expression:"submitBtn1"}],staticClass:"submit_order",class:{isSub_btn:t.isSub_btn,isSub_btn_red:t.isSub_btn_red},on:{click:function(e){t.submit()}}},[t._v("提交订单")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.submitBtn2,expression:"submitBtn2"}],staticClass:"submit_order2"},[t._v("提交订单")])])])]):t._e(),t._v(" "),t.tipsShow?i("tips",{attrs:{title:"请至少选择两场比赛"}}):t._e(),t._v(" "),t.tipsShowPrice?i("tipsPrice",{attrs:{title:"单注最大积分不能超过200万"}}):t._e(),t._v(" "),t.tipsShowPriceJd?i("tipsPrice",{attrs:{title:"单注最大金豆不能超过200万"}}):t._e(),t._v(" "),t.tipsShowExceed?i("tipsExceed",{attrs:{title:"最大比赛场次不能超过8场"}}):t._e(),t._v(" "),t.model?i("model",{attrs:{title:"正在加载中..."}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"betting_index"},[e("p",{staticClass:"betting_number"},[this._v("场次")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"betting_info"},[e("p",{staticClass:"betting_mingxi"},[this._v("明细")])])}]};var l=i("Z0/y")(o,n,!1,function(t){i("iwSQ")},"data-v-92f07548",null);e.default=l.exports},iwSQ:function(t,e){}});
//# sourceMappingURL=3.05a64b7f91b789bf7d75.js.map